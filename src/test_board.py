from unittest import TestCase

from hw1cs561s2018 import Board


class TestBoard(TestCase):
    def test_read_10_piece(self):
        board = Board(pieces=None, map=[
            ['0', 'S100', '0', '0', '0', '0', '0', '0'],
            ['0', '0', 'C100', '0', '0', '0', '0', '0'],
            ['0', '0', '0', 'S100', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0']
        ])
        self.assertEqual(200, len([p for p in board.pieces if p.type == "S"]))
        self.assertEqual(100, len([p for p in board.pieces if p.type == "C"]))

    def test_is_only_one_player(self):
        board = Board(pieces=None, map=[
            ['0', 'S1', '0', '0', '0', '0', '0', '0'],
            ['0', '0', 'C1', '0', '0', '0', '0', '0'],
            ['0', '0', '0', 'S1', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0']
        ])
        self.assertFalse(board.is_only_one_play())

    def test_is_only_one_player2(self):
        board = Board(pieces=None, map=[
            ['0', 'S1', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', 'S1', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0']
        ])
        self.assertTrue(board.is_only_one_play())

    def test_is_only_one_player3(self):
        board = Board(pieces=None, map=[
            ['0', 'S3', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', 'S1', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0'],
            ['0', '0', '0', '0', '0', '0', '0', '0']
        ])
        self.assertTrue(board.is_only_one_play())
